
{% extends "account/account_base.html" %}
{% block title %}Edit Address{% endblock %}

{% block account_content %}

<div class="col-6 mx-auto">
  <h1 class="h3">Create/Edit Address</h1>
  <div>Add a new delivery <b>address</b> and delivery preferences</div>
  <hr />

  <form id="address_form" class="account-form" method="post" enctype="multipart/form-data">
  {% csrf_token %}

    {% if form.errors %}
    <div class="alert alert-primary" role="alert">
      Error: Please try again!
    </div>
    {% endif %}
    
    <label class="small fw-bold">{{ form.full_name.label}}<span class="text-muted small"> (Required)</label>
    {{ form.full_name }}
    <label class="small fw-bold">{{ form.phone.label}}<span class="text-muted small"> (Required)</label>
    {{ form.phone_number }}
    <label class="small fw-bold">{{ form.address_line.label}}<span class="text-muted small"> (Required)</label>
    {{ form.address_line }}
    <label class="small fw-bold">{{ form.town_city.label}}<span class="text-muted small"> (Required)</label>
    {{ form.town_city }}
    <label class="small fw-bold">{{ form.postal_code.label}}<span class="text-muted small"> (Required)</label>
    {{ form.postal_code }}
    <label class="small fw-bold">{{ form.delivery_instructions.label}}</label>
    {{ form.delivery_instructions }}
    <button class="btn btn-primary btn-block py-2 mb-4 mt-4 fw-bold w-100" type="button" value="Submit" onclick="submitForm()">Add Address</button>
  </form>

</div>

<script> 
function submitForm() {
   var form = document.querySelector('#address_form');
   form.submit();
   form.reset();
   return false; // Prevent page refresh
}
</script>
{% endblock %}